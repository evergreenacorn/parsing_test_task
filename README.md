# Парсер для тестового задания

## Тестовое задание
Используя yml-фид из архива, вывести на консоль объекты категорий (всех) и офферов (первые 1000)

при этом картинки 1000 офферов должны быть скачены (асинхронно, в 10 тредов) в /tmp/<somedir>, после парсинга и скачивания в объекте оффера должен быть дополнен ключ
'file_path': '/tmp/<somedir>/<offer_id>.jpg'

технологии
lxml / asyncio / requests

## Что сделал:

1. Вывод на печать всех объетов категорий
2. Вывод на печать первых тысячи офферов
3. Скачивание картинок в /app/tmp/somdir посредством asyncio + threading (в 10 потоках, каждый со своим event_loop)
4. Логирование нескачавшихся картинок в /app/logs
5. После скачивания возвращаю словарь {'offer_key': {'file_path': 'local_file_path'}}, где offer_key - id объекта offer'а; file_path - полный путь картинки оффера, с данными которого, перезаписывается текущий файл .yml


## Что осталось сделать:
**TODO: {12.08.21}**
- [ ] Функция создания нужных директорий, при условии их отсутствия
- [ ] Разобраться с await - возвращаемыми значениями сопрограммы - ругается на NoneType, dict
- [ ] docker-compose
- [ ] Тесты?
- [x] Исправить именования переменных/функций
- [x] Разбить parsing на классы для лучшей читаемости, убрать неиспользующиеся функции


## Библиотеки, которые использовал:
|Библиотека|Версия|
|:--|--:|
|asyncio|3.4.3|
|lxml|4.6.3|
|requests|2.26.0|
